{
  "address": "0xbB3131AB7F69b6939687991185903616ecbB67ce",
  "abi": [
    {
      "inputs": [],
      "name": "DS_MATH_ADD_OVERFLOW",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "DS_MATH_MUL_OVERFLOW",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "bucket",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "urOptimal",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "k0",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "k1",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "b0",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "b1",
          "type": "int256"
        }
      ],
      "name": "BarCalculationParamsChanged",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "ur",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "reserveRate",
          "type": "uint256"
        }
      ],
      "name": "calculateInterestRates",
      "outputs": [
        {
          "internalType": "uint128",
          "name": "",
          "type": "uint128"
        },
        {
          "internalType": "uint128",
          "name": "",
          "type": "uint128"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_address",
          "type": "address"
        }
      ],
      "name": "getBarCalculationParams",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "urOptimal",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "k0",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "k1",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "b0",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "b1",
              "type": "int256"
            }
          ],
          "internalType": "struct IInterestRateStrategy.BarCalculationParams",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "_params",
          "type": "bytes"
        }
      ],
      "name": "setBarCalculationParams",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "_interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xd89e9615051cfe2944231dc6d78a158b937630bcec21283b14dadf1f699ba168",
  "receipt": {
    "to": null,
    "from": "0xC110b6e93a51ACF1f3DEd19c754789E7A2304F07",
    "contractAddress": "0xbB3131AB7F69b6939687991185903616ecbB67ce",
    "transactionIndex": 31,
    "gasUsed": "370907",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x27fe5b49f20fcfbb938b31f8af0530b655ef8af9c347f5ae3c7b907ce4f51f98",
    "transactionHash": "0xd89e9615051cfe2944231dc6d78a158b937630bcec21283b14dadf1f699ba168",
    "logs": [],
    "blockNumber": 18747756,
    "cumulativeGasUsed": "4538062",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "ac08d1652288d4d03be56436412dd0c4",
  "metadata": "{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"DS_MATH_ADD_OVERFLOW\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DS_MATH_MUL_OVERFLOW\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"bucket\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"urOptimal\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"k0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"k1\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"b0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"b1\",\"type\":\"int256\"}],\"name\":\"BarCalculationParamsChanged\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ur\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"reserveRate\",\"type\":\"uint256\"}],\"name\":\"calculateInterestRates\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"getBarCalculationParams\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"urOptimal\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"k0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"k1\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"b0\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"b1\",\"type\":\"int256\"}],\"internalType\":\"struct IInterestRateStrategy.BarCalculationParams\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_params\",\"type\":\"bytes\"}],\"name\":\"setBarCalculationParams\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"_interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"calculateInterestRates(uint256,uint256)\":{\"details\":\"Updates bucket's BAR and LAR. Calculates using utilization ratio (UR): BAR = UR <= URoptimal ? (k0 * UR + b0) : (k1 * UR + b1), where 'b1' may be < 0, LAR = BAR * UR, if reserveRate != 0, then LAR = LAR * (1 - reserveRate)\",\"params\":{\"reserveRate\":\"The reserve portion of the interest that goes to the Primex reserve\",\"ur\":\"Utilization ratio\"},\"returns\":{\"_0\":\"tuple containing BAR and LAR\"}},\"getBarCalculationParams(address)\":{\"details\":\"Retrieves the calculation parameters for the Bar calculation.\",\"params\":{\"_address\":\"an address of the bucket\"},\"returns\":{\"_0\":\"BarCalculationParams struct containing the parameters.\"}},\"setBarCalculationParams(bytes)\":{\"details\":\"Set parameters for BAR calculation.\",\"params\":{\"_params\":\"parameters are represented in byte string\"}},\"supportsInterface(bytes4)\":{\"params\":{\"_interfaceId\":\"The interface id to check\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"supportsInterface(bytes4)\":{\"notice\":\"Interface checker\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/InterestRateStrategy.sol\":\"InterestRateStrategy\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/utils/introspection/ERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/ERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC165.sol\\\";\\n\\n/**\\n * @dev Implementation of the {IERC165} interface.\\n *\\n * Contracts that want to implement ERC165 should inherit from this contract and override {supportsInterface} to check\\n * for the additional interface id that will be supported. For example:\\n *\\n * ```solidity\\n * function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n *     return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);\\n * }\\n * ```\\n *\\n * Alternatively, {ERC165Storage} provides an easier to use but more expensive implementation.\\n */\\nabstract contract ERC165 is IERC165 {\\n    /**\\n     * @dev See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n        return interfaceId == type(IERC165).interfaceId;\\n    }\\n}\\n\",\"keccak256\":\"0xd10975de010d89fd1c78dc5e8a9a7e7f496198085c151648f20cba166b32582b\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/IERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC165 standard, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-165[EIP].\\n *\\n * Implementers can declare support of contract interfaces, which can then be\\n * queried by others ({ERC165Checker}).\\n *\\n * For an implementation, see {ERC165}.\\n */\\ninterface IERC165 {\\n    /**\\n     * @dev Returns true if this contract implements the interface defined by\\n     * `interfaceId`. See the corresponding\\n     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]\\n     * to learn more about how these ids are created.\\n     *\\n     * This function call must use less than 30 000 gas.\\n     */\\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\"},\"contracts/InterestRateStrategy.sol\":{\"content\":\"// (c) 2023 Primex.finance\\n// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.18;\\n\\nimport {ERC165} from \\\"@openzeppelin/contracts/utils/introspection/ERC165.sol\\\";\\nimport {WadRayMath} from \\\"./libraries/utils/WadRayMath.sol\\\";\\n\\nimport \\\"./libraries/Errors.sol\\\";\\n\\nimport {IInterestRateStrategy} from \\\"./interfaces/IInterestRateStrategy.sol\\\";\\n\\ncontract InterestRateStrategy is IInterestRateStrategy, ERC165 {\\n    using WadRayMath for uint256;\\n    // a bucket address to its params\\n    mapping(address => BarCalculationParams) internal calculationParams;\\n\\n    /**\\n     * @inheritdoc IInterestRateStrategy\\n     */\\n    function setBarCalculationParams(bytes calldata _params) external override {\\n        BarCalculationParams memory barCalculationParams = abi.decode(_params, (BarCalculationParams));\\n        calculationParams[msg.sender] = barCalculationParams;\\n        emit BarCalculationParamsChanged(\\n            msg.sender,\\n            barCalculationParams.urOptimal,\\n            barCalculationParams.k0,\\n            barCalculationParams.k1,\\n            barCalculationParams.b0,\\n            barCalculationParams.b1\\n        );\\n    }\\n\\n    /**\\n     * @inheritdoc IInterestRateStrategy\\n     */\\n    function getBarCalculationParams(address _address) external view override returns (BarCalculationParams memory) {\\n        return calculationParams[_address];\\n    }\\n\\n    /**\\n     * @inheritdoc IInterestRateStrategy\\n     */\\n    function calculateInterestRates(uint256 ur, uint256 reserveRate) public view override returns (uint128, uint128) {\\n        _require(ur <= WadRayMath.RAY, Errors.UR_IS_MORE_THAN_1.selector);\\n        if (ur == 0) return (0, 0);\\n        BarCalculationParams memory barCalcParams = calculationParams[msg.sender];\\n        uint256 newBAR;\\n        if (ur <= barCalcParams.urOptimal) {\\n            newBAR = barCalcParams.k0.rmul(ur) + (barCalcParams.b0);\\n        } else {\\n            uint256 k1modified = barCalcParams.k1.rmul(ur);\\n            if (barCalcParams.b1 < 0) {\\n                uint256 b1modified = uint256(barCalcParams.b1 * (-1));\\n                _require(k1modified >= b1modified, Errors.BAR_OVERFLOW.selector);\\n                newBAR = k1modified - b1modified;\\n            } else {\\n                newBAR = k1modified + uint256(barCalcParams.b1);\\n            }\\n        }\\n\\n        // Errors.BAR_OVERFLOW is not possible to test\\n        _require(newBAR <= type(uint128).max, Errors.BAR_OVERFLOW.selector);\\n        uint256 newLAR = newBAR.rmul(ur);\\n        if (reserveRate != 0) {\\n            newLAR = newLAR.wmul(WadRayMath.WAD - reserveRate);\\n        }\\n        _require(newLAR <= type(uint128).max, Errors.LAR_OVERFLOW.selector);\\n\\n        return (uint128(newBAR), uint128(newLAR));\\n    }\\n\\n    /**\\n     * @notice Interface checker\\n     * @param _interfaceId The interface id to check\\n     */\\n    function supportsInterface(bytes4 _interfaceId) public view virtual override returns (bool) {\\n        return _interfaceId == type(IInterestRateStrategy).interfaceId || super.supportsInterface(_interfaceId);\\n    }\\n}\\n\",\"keccak256\":\"0x24cb2a145f154e299d46298d5a7093efa59e4cd988096a723232cecde72397de\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/IInterestRateStrategy.sol\":{\"content\":\"// (c) 2023 Primex.finance\\n// SPDX-License-Identifier: BUSL-1.1\\npragma solidity ^0.8.18;\\n\\ninterface IInterestRateStrategy {\\n    /**\\n     * @dev parameters for BAR calculation - they differ depending on bucket's underlying asset\\n     */\\n    struct BarCalculationParams {\\n        uint256 urOptimal;\\n        uint256 k0;\\n        uint256 k1;\\n        uint256 b0;\\n        int256 b1;\\n    }\\n\\n    event BarCalculationParamsChanged(\\n        address indexed bucket,\\n        uint256 urOptimal,\\n        uint256 k0,\\n        uint256 k1,\\n        uint256 b0,\\n        int256 b1\\n    );\\n\\n    /**\\n     * @dev Updates bucket's BAR and LAR.\\n     * Calculates using utilization ratio (UR):\\n     * BAR = UR <= URoptimal ? (k0 * UR + b0) : (k1 * UR + b1), where 'b1' may be < 0,\\n     * LAR = BAR * UR,\\n     * if reserveRate != 0, then LAR = LAR * (1 - reserveRate)\\n     * @param ur Utilization ratio\\n     * @param reserveRate The reserve portion of the interest that goes to the Primex reserve\\n     * @return tuple containing BAR and LAR\\n     */\\n\\n    function calculateInterestRates(uint256 ur, uint256 reserveRate) external returns (uint128, uint128);\\n\\n    /**\\n     * @dev Set parameters for BAR calculation.\\n     * @param _params parameters are represented in byte string\\n     */\\n\\n    function setBarCalculationParams(bytes memory _params) external;\\n\\n    /**\\n     * @dev Retrieves the calculation parameters for the Bar calculation.\\n     * @param _address an address of the bucket\\n     * @return BarCalculationParams struct containing the parameters.\\n     */\\n    function getBarCalculationParams(address _address) external view returns (BarCalculationParams memory);\\n}\\n\",\"keccak256\":\"0x3474a7be6c42ddf5faf12304d1978f0268b7d80c6d1c04880f00832151b280d8\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/Errors.sol\":{\"content\":\"// (c) 2023 Primex.finance\\n// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.18;\\n\\n// solhint-disable-next-line func-visibility\\nfunction _require(bool condition, bytes4 selector) pure {\\n    if (!condition) _revert(selector);\\n}\\n\\n// solhint-disable-next-line func-visibility\\nfunction _revert(bytes4 selector) pure {\\n    // solhint-disable-next-line no-inline-assembly\\n    assembly (\\\"memory-safe\\\") {\\n        let free_mem_ptr := mload(64)\\n        mstore(free_mem_ptr, selector)\\n        revert(free_mem_ptr, 4)\\n    }\\n}\\n\\nlibrary Errors {\\n    event Log(bytes4 error);\\n\\n    //common\\n    error ADDRESS_NOT_SUPPORTED();\\n    error FORBIDDEN();\\n    error AMOUNT_IS_0();\\n    error CALLER_IS_NOT_TRADER();\\n    error CONDITION_INDEX_IS_OUT_OF_BOUNDS();\\n    error INVALID_PERCENT_NUMBER();\\n    error INVALID_SECURITY_BUFFER();\\n    error INVALID_MAINTENANCE_BUFFER();\\n    error TOKEN_ADDRESS_IS_ZERO();\\n    error IDENTICAL_TOKEN_ADDRESSES();\\n    error ASSET_DECIMALS_EXCEEDS_MAX_VALUE();\\n    error CAN_NOT_ADD_WITH_ZERO_ADDRESS();\\n    error SHOULD_BE_DIFFERENT_ASSETS_IN_SPOT();\\n    error TOKEN_NOT_SUPPORTED();\\n    error INSUFFICIENT_DEPOSIT();\\n    error SHOULD_NOT_HAVE_DUPLICATES();\\n    // error LIMIT_PRICE_IS_ZERO();\\n    error BUCKET_IS_NOT_ACTIVE();\\n    error DIFFERENT_DATA_LENGTH();\\n    error RECIPIENT_OR_SENDER_MUST_BE_ON_WHITE_LIST();\\n    error SLIPPAGE_TOLERANCE_EXCEEDED();\\n    error OPERATION_NOT_SUPPORTED();\\n    error SENDER_IS_BLACKLISTED();\\n    error NATIVE_CURRENCY_CANNOT_BE_ASSET();\\n    error DISABLED_TRANSFER_NATIVE_CURRENCY();\\n    error INVALID_AMOUNT();\\n\\n    // bonus executor\\n    error CALLER_IS_NOT_NFT();\\n    error BONUS_FOR_BUCKET_ALREADY_ACTIVATED();\\n    error WRONG_LENGTH();\\n    error BONUS_DOES_NOT_EXIST();\\n    error CALLER_IS_NOT_DEBT_TOKEN();\\n    error CALLER_IS_NOT_P_TOKEN();\\n    error MAX_BONUS_COUNT_EXCEEDED();\\n    error TIER_IS_NOT_ACTIVE();\\n    error BONUS_PERCENT_IS_ZERO();\\n\\n    // bucket\\n    error INCORRECT_LIQUIDITY_MINING_PARAMS();\\n    error PAIR_PRICE_DROP_IS_NOT_CORRECT();\\n    error ASSET_IS_NOT_SUPPORTED();\\n    error BUCKET_OUTSIDE_PRIMEX_PROTOCOL();\\n    error DEADLINE_IS_PASSED();\\n    error DEADLINE_IS_NOT_PASSED();\\n    error BUCKET_IS_NOT_LAUNCHED();\\n    error BURN_AMOUNT_EXCEEDS_PROTOCOL_DEBT();\\n    error LIQUIDITY_INDEX_OVERFLOW();\\n    error BORROW_INDEX_OVERFLOW();\\n    error BAR_OVERFLOW();\\n    error LAR_OVERFLOW();\\n    error UR_IS_MORE_THAN_1();\\n    error ASSET_ALREADY_SUPPORTED();\\n    error DEPOSIT_IS_MORE_AMOUNT_PER_USER();\\n    error DEPOSIT_EXCEEDS_MAX_TOTAL_DEPOSIT();\\n    error MINING_AMOUNT_WITHDRAW_IS_LOCKED_ON_STABILIZATION_PERIOD();\\n    error WITHDRAW_RATE_IS_MORE_10_PERCENT();\\n    error INVALID_FEE_BUFFER();\\n    error RESERVE_RATE_SHOULD_BE_LESS_THAN_1();\\n    error MAX_TOTAL_DEPOSIT_IS_ZERO();\\n    error AMOUNT_SCALED_SHOULD_BE_GREATER_THAN_ZERO();\\n    error NOT_ENOUGH_LIQUIDITY_IN_THE_BUCKET();\\n\\n    // p/debt token, PMXToken\\n    error BUCKET_IS_IMMUTABLE();\\n    error INVALID_MINT_AMOUNT();\\n    error INVALID_BURN_AMOUNT();\\n    error TRANSFER_NOT_SUPPORTED();\\n    error APPROVE_NOT_SUPPORTED();\\n    error CALLER_IS_NOT_BUCKET();\\n    error CALLER_IS_NOT_A_BUCKET_FACTORY();\\n    error CALLER_IS_NOT_P_TOKEN_RECEIVER();\\n    error DURATION_MUST_BE_MORE_THAN_0();\\n    error INCORRECT_ID();\\n    error THERE_ARE_NO_LOCK_DEPOSITS();\\n    error LOCK_TIME_IS_NOT_EXPIRED();\\n    error TRANSFER_AMOUNT_EXCEED_ALLOWANCE();\\n    error CALLER_IS_NOT_A_MINTER();\\n    error ACTION_ONLY_WITH_AVAILABLE_BALANCE();\\n    error FEE_DECREASER_CALL_FAILED();\\n    error TRADER_REWARD_DISTRIBUTOR_CALL_FAILED();\\n    error INTEREST_INCREASER_CALL_FAILED();\\n    error LENDER_REWARD_DISTRIBUTOR_CALL_FAILED();\\n    error DEPOSIT_DOES_NOT_EXIST();\\n    error RECIPIENT_IS_BLACKLISTED();\\n\\n    //LOM\\n    error ORDER_CAN_NOT_BE_FILLED();\\n    error ORDER_DOES_NOT_EXIST();\\n    error ORDER_IS_NOT_SPOT();\\n    error LEVERAGE_MUST_BE_MORE_THAN_1();\\n    error CANNOT_CHANGE_SPOT_ORDER_TO_MARGIN();\\n    error SHOULD_HAVE_OPEN_CONDITIONS();\\n    error INCORRECT_LEVERAGE();\\n    error INCORRECT_DEADLINE();\\n    error LEVERAGE_SHOULD_BE_1();\\n    error LEVERAGE_EXCEEDS_MAX_LEVERAGE();\\n    error SHOULD_OPEN_POSITION();\\n    error IS_SPOT_ORDER();\\n    error SHOULD_NOT_HAVE_CLOSE_CONDITIONS();\\n    error ORDER_HAS_EXPIRED();\\n\\n    // LiquidityMiningRewardDistributor\\n    error BUCKET_IS_NOT_STABLE();\\n    error ATTEMPT_TO_WITHDRAW_MORE_THAN_DEPOSITED();\\n    error WITHDRAW_PMX_BY_ADMIN_FORBIDDEN();\\n\\n    // nft\\n    error TOKEN_IS_BLOCKED();\\n    error ONLY_MINTERS();\\n    error PROGRAM_IS_NOT_ACTIVE();\\n    error CALLER_IS_NOT_OWNER();\\n    error TOKEN_IS_ALREADY_ACTIVATED();\\n    error WRONG_NETWORK();\\n    error ID_DOES_NOT_EXIST();\\n    error WRONG_URIS_LENGTH();\\n\\n    // PM\\n    error ASSET_ADDRESS_NOT_SUPPORTED();\\n    error IDENTICAL_ASSET_ADDRESSES();\\n    error POSITION_DOES_NOT_EXIST();\\n    error AMOUNT_IS_MORE_THAN_POSITION_AMOUNT();\\n    error BORROWED_AMOUNT_IS_ZERO();\\n    error IS_SPOT_POSITION();\\n    error AMOUNT_IS_MORE_THAN_DEPOSIT();\\n    error DECREASE_AMOUNT_IS_ZERO();\\n    error INSUFFICIENT_DEPOSIT_SIZE();\\n    error IS_NOT_RISKY_OR_CANNOT_BE_CLOSED();\\n    error BUCKET_SHOULD_BE_UNDEFINED();\\n    error DEPOSIT_IN_THIRD_ASSET_ROUTES_LENGTH_SHOULD_BE_0();\\n    error POSITION_CANNOT_BE_CLOSED_FOR_THIS_REASON();\\n    error ADDRESS_IS_ZERO();\\n    error WRONG_TRUSTED_MULTIPLIER();\\n    error POSITION_SIZE_EXCEEDED();\\n    error POSITION_BUCKET_IS_INCORRECT();\\n    error THERE_MUST_BE_AT_LEAST_ONE_POSITION();\\n    error NOTHING_TO_CLOSE();\\n\\n    // BatchManager\\n    error PARAMS_LENGTH_MISMATCH();\\n    error BATCH_CANNOT_BE_CLOSED_FOR_THIS_REASON();\\n    error CLOSE_CONDITION_IS_NOT_CORRECT();\\n    error SOLD_ASSET_IS_INCORRECT();\\n\\n    // Price Oracle\\n    error ZERO_EXCHANGE_RATE();\\n    error NO_PRICEFEED_FOUND();\\n    error NO_PRICE_DROP_FEED_FOUND();\\n\\n    //DNS\\n    error INCORRECT_FEE_RATE();\\n    error INCORRECT_RESTRICTIONS();\\n    error BUCKET_ALREADY_FROZEN();\\n    error BUCKET_IS_ALREADY_ADDED();\\n    error DEX_IS_ALREADY_ACTIVATED();\\n    error DEX_IS_ALREADY_FROZEN();\\n    error DEX_IS_ALREADY_ADDED();\\n    error BUCKET_NOT_ADDED();\\n    error DEX_NOT_ACTIVE();\\n    error BUCKET_ALREADY_ACTIVATED();\\n    error DEX_NOT_ADDED();\\n    error BUCKET_IS_INACTIVE();\\n    error WITHDRAWAL_NOT_ALLOWED();\\n    error BUCKET_IS_ALREADY_DEPRECATED();\\n\\n    // Primex upkeep\\n    error NUMBER_IS_0();\\n\\n    //referral program, WhiteBlackList\\n    error CALLER_ALREADY_REGISTERED();\\n    error MISMATCH();\\n    error PARENT_NOT_WHITELISTED();\\n    error ADDRESS_ALREADY_WHITELISTED();\\n    error ADDRESS_ALREADY_BLACKLISTED();\\n    error ADDRESS_NOT_BLACKLISTED();\\n    error ADDRESS_NOT_WHITELISTED();\\n    error ADDRESS_NOT_UNLISTED();\\n    error ADDRESS_IS_WHITELISTED();\\n    error ADDRESS_IS_NOT_CONTRACT();\\n\\n    //Reserve\\n    error BURN_AMOUNT_IS_ZERO();\\n    error CALLER_IS_NOT_EXECUTOR();\\n    error ADDRESS_NOT_PRIMEX_BUCKET();\\n    error NOT_SUFFICIENT_RESERVE_BALANCE();\\n    error INCORRECT_TRANSFER_RESTRICTIONS();\\n\\n    //Vault\\n    error AMOUNT_EXCEEDS_AVAILABLE_BALANCE();\\n    error INSUFFICIENT_FREE_ASSETS();\\n    error CALLER_IS_NOT_SPENDER();\\n\\n    //Pricing Library\\n    error IDENTICAL_ASSETS();\\n    error SUM_OF_SHARES_SHOULD_BE_GREATER_THAN_ZERO();\\n    error DIFFERENT_PRICE_DEX_AND_ORACLE();\\n    error TAKE_PROFIT_IS_LTE_LIMIT_PRICE();\\n    error STOP_LOSS_IS_GTE_LIMIT_PRICE();\\n    error STOP_LOSS_IS_LTE_LIQUIDATION_PRICE();\\n    error INSUFFICIENT_POSITION_SIZE();\\n    error INCORRECT_PATH();\\n    error DEPOSITED_TO_BORROWED_ROUTES_LENGTH_SHOULD_BE_0();\\n    error INCORRECT_CM_TYPE();\\n    error FEE_RATE_IN_NATIVE_IS_ZERO();\\n\\n    // Token transfers\\n    error TOKEN_TRANSFER_IN_FAILED();\\n    error TOKEN_TRANSFER_IN_OVERFLOW();\\n    error TOKEN_TRANSFER_OUT_FAILED();\\n    error NATIVE_TOKEN_TRANSFER_FAILED();\\n\\n    // Conditional Managers\\n    error LOW_PRICE_ROUND_IS_LESS_HIGH_PRICE_ROUND();\\n    error TRAILING_DELTA_IS_INCORRECT();\\n    error DATA_FOR_ROUND_DOES_NOT_EXIST();\\n    error HIGH_PRICE_TIMESTAMP_IS_INCORRECT();\\n    error NO_PRICE_FEED_INTERSECTION();\\n    error SHOULD_BE_CCM();\\n    error SHOULD_BE_COM();\\n\\n    //Lens\\n    error DEPOSITED_AMOUNT_IS_0();\\n    error SPOT_DEPOSITED_ASSET_SHOULD_BE_EQUAL_BORROWED_ASSET();\\n    error ZERO_ASSET_ADDRESS();\\n    error ASSETS_SHOULD_BE_DIFFERENT();\\n    error ZERO_SHARES();\\n    error SHARES_AMOUNT_IS_GREATER_THAN_AMOUNT_TO_SELL();\\n    error NO_ACTIVE_DEXES();\\n\\n    //Bots\\n    error WRONG_BALANCES();\\n    error INVALID_INDEX();\\n    error INVALID_DIVIDER();\\n    error ARRAYS_LENGTHS_IS_NOT_EQUAL();\\n    error DENOMINATOR_IS_0();\\n\\n    //DexAdapter\\n    error ZERO_AMOUNT_IN();\\n    error ZERO_AMOUNT();\\n    error UNKNOWN_DEX_TYPE();\\n    error REVERTED_WITHOUT_A_STRING_TRY_TO_CHECK_THE_ANCILLARY_DATA();\\n    error DELTA_OF_TOKEN_OUT_HAS_POSITIVE_VALUE();\\n    error DELTA_OF_TOKEN_IN_HAS_NEGATIVE_VALUE();\\n    error QUOTER_IS_NOT_PROVIDED();\\n    error DEX_ROUTER_NOT_SUPPORTED();\\n    error QUOTER_NOT_SUPPORTED();\\n    error SWAP_DEADLINE_PASSED();\\n\\n    //SpotTradingRewardDistributor\\n    error PERIOD_DURATION_IS_ZERO();\\n    error REWARD_AMOUNT_IS_ZERO();\\n    error REWARD_PER_PERIOD_IS_NOT_CORRECT();\\n\\n    //ActivityRewardDistributor\\n    error TOTAL_REWARD_AMOUNT_IS_ZERO();\\n    error REWARD_PER_DAY_IS_NOT_CORRECT();\\n    error ZERO_BUCKET_ADDRESS();\\n    //KeeperRewardDistributor\\n    error INCORRECT_PART_IN_REWARD();\\n    error INCORRECT_MULTIPLIER();\\n\\n    //Treasury\\n    error TRANSFER_RESTRICTIONS_NOT_MET();\\n    error INSUFFICIENT_NATIVE_TOKEN_BALANCE();\\n    error INSUFFICIENT_TOKEN_BALANCE();\\n    error EXCEEDED_MAX_AMOUNT_DURING_TIMEFRAME();\\n    error EXCEEDED_MAX_SPENDING_LIMITS();\\n    error SPENDING_LIMITS_ARE_INCORRECT();\\n    error SPENDER_IS_NOT_EXIST();\\n}\\n\",\"keccak256\":\"0xdefed1730079812b35863325fa1451cd220f15f8d26af3cd218e579567a8d65f\",\"license\":\"BUSL-1.1\"},\"contracts/libraries/utils/WadRayMath.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\n// A modified version of ds-math library\\n// Origin: https://github.com/dapphub/ds-math/blob/master/src/math.sol\\n// Unused methods were removed, errors changed\\n\\npragma solidity 0.8.18;\\nerror DS_MATH_ADD_OVERFLOW();\\nerror DS_MATH_MUL_OVERFLOW();\\n\\nlibrary WadRayMath {\\n    function add(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        if ((z = x + y) < x) revert DS_MATH_ADD_OVERFLOW();\\n    }\\n\\n    function mul(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        if (!(y == 0 || (z = x * y) / y == x)) revert DS_MATH_MUL_OVERFLOW();\\n    }\\n\\n    uint256 internal constant WAD = 10 ** 18;\\n    uint256 internal constant RAY = 10 ** 27;\\n\\n    //rounds to zero if x*y < WAD / 2\\n    function wmul(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        z = add(mul(x, y), WAD / 2) / WAD;\\n    }\\n\\n    //rounds to zero if x*y < RAY / 2\\n    function rmul(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        z = add(mul(x, y), RAY / 2) / RAY;\\n    }\\n\\n    //rounds to zero if x*y < WAD / 2\\n    function wdiv(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        z = add(mul(x, WAD), y / 2) / y;\\n    }\\n\\n    //rounds to zero if x*y < RAY / 2\\n    function rdiv(uint256 x, uint256 y) internal pure returns (uint256 z) {\\n        z = add(mul(x, RAY), y / 2) / y;\\n    }\\n}\\n\",\"keccak256\":\"0xb0991b2c77df3496e4595618675a4279bd187aa4968bfbcf3be47f80c49280b3\",\"license\":\"GPL-3.0\"}},\"version\":1}",
  "bytecode": "0x60808060405234610016576105be908161001c8239f35b600080fdfe608060408181526004908136101561001657600080fd5b600092833560e01c90816301ffc9a71461024057508063110966fa146102045780632acabb11146101055763ddce49171461005057600080fd5b346101015760203660031901126101015781356001600160a01b038116908190036100fd5783829160a0956080610085610294565b82815282602082015282868201528260608201520152815280602052206100aa610294565b918154938484526001830154602085019081526080600285015492848701938452600386015495606088019687520154950194855282519586525160208601525190840152516060830152516080820152f35b8380fd5b8280fd5b50903461010157602036600319011261010157803567ffffffffffffffff80821161020057366023830112156102005781830135908111610200578101366024820111610200578160a09103126100fd5761015e610294565b602482013581526020810193604483013585528082016064840135815260608301926084850135845260a46080820195013585523388528760205282882090519687825551918260018301555193846002830155519485600383015551958691015581519586526020860152840152606083015260808201527f7bd145cdd7c4e4ed7a51e9e3e4baa3c3c1622230c4dd7b084156536b0b930c1060a03392a280f35b8480fd5b50913461023d578260031936011261023d57506102259060243590356102ed565b82516001600160801b03928316815291166020820152f35b80fd5b84908434610101576020366003190112610101573563ffffffff60e01b81168091036101015760209250633983653f60e21b8114908115610283575b5015158152f35b6301ffc9a760e01b1490508361027c565b6040519060a0820182811067ffffffffffffffff8211176102b457604052565b634e487b7160e01b600052604160045260246000fd5b919082018092116102d757565b634e487b7160e01b600052601160045260246000fd5b9190916b033b2e3c9fd0803ce80000008082116104e15781156104d55760009333855284602052604080862091610322610294565b8354808252858760018701549360208101948552600288015480888301526003890154946060830195865260806004809b0154930192835283111560001461045557505061037761037c916103859551610525565b6104f3565b049051906102ca565b935b6001600160801b0395868611610445576103776103a49187610525565b0496816103cb575b50508386116103be5750508116921690565b5163fab766b560e01b8152fd5b909196670de0b6b3a76400009283039083821161043257906103ec91610525565b6706f05b59d3b2000081019182821161041f5750811061040f57049438806103ac565b8651630a77254f60e01b81528390fd5b634e487b7160e01b815260118552602490fd5b634e487b7160e01b835260118552602483fd5b50505051635ebef97160e01b8152fd5b61037792919550610467939450610525565b049080518981126000146104c457505180890381156000198383051417156104b157821061044557810190811161049e5793610387565b634e487b7160e01b885260118452602488fd5b634e487b7160e01b8a526011865260248afd5b90506104cf916102ca565b93610387565b50509050600090600090565b6040516356610cc760e01b8152600490fd5b906b019d971e4fe8401e740000008201918281116102d757821061051357565b604051630a77254f60e01b8152600490fd5b9190600092811591821561054f575b50501561053d57565b604051631550e8b760e01b8152600490fd5b818192939550028281048214831517156102d75780946105725704143880610534565b634e487b7160e01b600052601260045260246000fdfea264697066735822122033792019b2dbc0ca39c0b38c7a855c1f75dc3481133d879bfd3abd88033b28c864736f6c63430008120033",
  "deployedBytecode": "0x608060408181526004908136101561001657600080fd5b600092833560e01c90816301ffc9a71461024057508063110966fa146102045780632acabb11146101055763ddce49171461005057600080fd5b346101015760203660031901126101015781356001600160a01b038116908190036100fd5783829160a0956080610085610294565b82815282602082015282868201528260608201520152815280602052206100aa610294565b918154938484526001830154602085019081526080600285015492848701938452600386015495606088019687520154950194855282519586525160208601525190840152516060830152516080820152f35b8380fd5b8280fd5b50903461010157602036600319011261010157803567ffffffffffffffff80821161020057366023830112156102005781830135908111610200578101366024820111610200578160a09103126100fd5761015e610294565b602482013581526020810193604483013585528082016064840135815260608301926084850135845260a46080820195013585523388528760205282882090519687825551918260018301555193846002830155519485600383015551958691015581519586526020860152840152606083015260808201527f7bd145cdd7c4e4ed7a51e9e3e4baa3c3c1622230c4dd7b084156536b0b930c1060a03392a280f35b8480fd5b50913461023d578260031936011261023d57506102259060243590356102ed565b82516001600160801b03928316815291166020820152f35b80fd5b84908434610101576020366003190112610101573563ffffffff60e01b81168091036101015760209250633983653f60e21b8114908115610283575b5015158152f35b6301ffc9a760e01b1490508361027c565b6040519060a0820182811067ffffffffffffffff8211176102b457604052565b634e487b7160e01b600052604160045260246000fd5b919082018092116102d757565b634e487b7160e01b600052601160045260246000fd5b9190916b033b2e3c9fd0803ce80000008082116104e15781156104d55760009333855284602052604080862091610322610294565b8354808252858760018701549360208101948552600288015480888301526003890154946060830195865260806004809b0154930192835283111560001461045557505061037761037c916103859551610525565b6104f3565b049051906102ca565b935b6001600160801b0395868611610445576103776103a49187610525565b0496816103cb575b50508386116103be5750508116921690565b5163fab766b560e01b8152fd5b909196670de0b6b3a76400009283039083821161043257906103ec91610525565b6706f05b59d3b2000081019182821161041f5750811061040f57049438806103ac565b8651630a77254f60e01b81528390fd5b634e487b7160e01b815260118552602490fd5b634e487b7160e01b835260118552602483fd5b50505051635ebef97160e01b8152fd5b61037792919550610467939450610525565b049080518981126000146104c457505180890381156000198383051417156104b157821061044557810190811161049e5793610387565b634e487b7160e01b885260118452602488fd5b634e487b7160e01b8a526011865260248afd5b90506104cf916102ca565b93610387565b50509050600090600090565b6040516356610cc760e01b8152600490fd5b906b019d971e4fe8401e740000008201918281116102d757821061051357565b604051630a77254f60e01b8152600490fd5b9190600092811591821561054f575b50501561053d57565b604051631550e8b760e01b8152600490fd5b818192939550028281048214831517156102d75780946105725704143880610534565b634e487b7160e01b600052601260045260246000fdfea264697066735822122033792019b2dbc0ca39c0b38c7a855c1f75dc3481133d879bfd3abd88033b28c864736f6c63430008120033",
  "libraries": {
    "Errors": "0xB959663e3FAb840C9bfebC6d2d32822D25317292"
  },
  "devdoc": {
    "kind": "dev",
    "methods": {
      "calculateInterestRates(uint256,uint256)": {
        "details": "Updates bucket's BAR and LAR. Calculates using utilization ratio (UR): BAR = UR <= URoptimal ? (k0 * UR + b0) : (k1 * UR + b1), where 'b1' may be < 0, LAR = BAR * UR, if reserveRate != 0, then LAR = LAR * (1 - reserveRate)",
        "params": {
          "reserveRate": "The reserve portion of the interest that goes to the Primex reserve",
          "ur": "Utilization ratio"
        },
        "returns": {
          "_0": "tuple containing BAR and LAR"
        }
      },
      "getBarCalculationParams(address)": {
        "details": "Retrieves the calculation parameters for the Bar calculation.",
        "params": {
          "_address": "an address of the bucket"
        },
        "returns": {
          "_0": "BarCalculationParams struct containing the parameters."
        }
      },
      "setBarCalculationParams(bytes)": {
        "details": "Set parameters for BAR calculation.",
        "params": {
          "_params": "parameters are represented in byte string"
        }
      },
      "supportsInterface(bytes4)": {
        "params": {
          "_interfaceId": "The interface id to check"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "supportsInterface(bytes4)": {
        "notice": "Interface checker"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 30711,
        "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
        "label": "calculationParams",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_address,t_struct(BarCalculationParams)57180_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_int256": {
        "encoding": "inplace",
        "label": "int256",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_struct(BarCalculationParams)57180_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct IInterestRateStrategy.BarCalculationParams)",
        "numberOfBytes": "32",
        "value": "t_struct(BarCalculationParams)57180_storage"
      },
      "t_struct(BarCalculationParams)57180_storage": {
        "encoding": "inplace",
        "label": "struct IInterestRateStrategy.BarCalculationParams",
        "members": [
          {
            "astId": 57171,
            "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
            "label": "urOptimal",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 57173,
            "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
            "label": "k0",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 57175,
            "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
            "label": "k1",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 57177,
            "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
            "label": "b0",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 57179,
            "contract": "contracts/InterestRateStrategy.sol:InterestRateStrategy",
            "label": "b1",
            "offset": 0,
            "slot": "4",
            "type": "t_int256"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}